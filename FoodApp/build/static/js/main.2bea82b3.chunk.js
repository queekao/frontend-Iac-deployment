(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,function(e,t,a){e.exports={form:"Checkout_form__26gr1",control:"Checkout_control__2qGfb",actions:"Checkout_actions__2X_6_",submit:"Checkout_submit__2BFZZ",invalid:"Checkout_invalid__2gAN9",confirm:"Checkout_confirm__3JvpT",cancel:"Checkout_cancel__1bRnc",error:"Checkout_error__sELWx"}},function(e,t,a){e.exports={"cart-items":"Cart_cart-items__2pjQw","cart-item":"Cart_cart-item__1yHa1",summary:"Cart_summary__9Gpck",price:"Cart_price__3Zo1I",amount:"Cart_amount__w4F88",btnGroup:"Cart_btnGroup___buzu",btnRemove:"Cart_btnRemove__24NsG",btnAdd:"Cart_btnAdd__2Xp_9",total:"Cart_total__3pLin",actions:"Cart_actions__1GOmr","button--alt":"Cart_button--alt__1Z2QQ",button:"Cart_button__fw1-t"}},function(e,t,a){e.exports={button:"HeaderCartButton_button__3CMOT",icon:"HeaderCartButton_icon__9KWtg",text:"HeaderCartButton_text__3oq9u",badge:"HeaderCartButton_badge__1Z3gL",bump:"HeaderCartButton_bump__3atD4"}},function(e,t,a){e.exports={wrapper:"AvailableMeals_wrapper__3AZgW",meals:"AvailableMeals_meals__2ZLCP","meals-appear":"AvailableMeals_meals-appear__ONwLi",error:"AvailableMeals_error__3LgjX",mealLoading:"AvailableMeals_mealLoading__2y2Q0",mealForm:"AvailableMeals_mealForm__1o4sx"}},,,function(e,t,a){e.exports={header:"Header_header__zSTUo","main-image":"Header_main-image__2Q3So"}},function(e,t,a){e.exports={button:"MealForm_button__-ONkf",buttonIcon:"MealForm_buttonIcon__1CaIc"}},function(e,t,a){e.exports={backdrop:"Modal_backdrop__1mfF6",modal:"Modal_modal__4DXUe","slide-down":"Modal_slide-down__W3MdX"}},function(e,t,a){e.exports={summary:"MealsSummary_summary__22zUX"}},,function(e){e.exports=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 1.0.0","a":"","k":"","d":"","tc":""},"fr":60,"ip":0,"op":240,"w":2568,"h":5556,"nm":"iPhone 12 Pro Max","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Rectangle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1282.947,2778,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-974.004,-634],[-2882.947,-634],[-2882.947,604.448],[-974.004,604.448]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":60,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[241.996,-634],[-1666.947,-634],[-1666.947,604.448],[241.996,604.448]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":120,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[2033.996,-666],[125.053,-666],[125.053,572.448],[2033.996,572.448]],"c":true}]},{"t":240,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[3233.996,-666],[1325.053,-666],[1325.053,572.448],[3233.996,572.448]],"c":true}]}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"ef":[{"ty":29,"nm":"Gaussian Blur","np":5,"mn":"ADBE Gaussian Blur 2","ix":1,"en":1,"ef":[{"ty":0,"nm":"Blurriness","mn":"ADBE Gaussian Blur 2-0001","ix":1,"v":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":60,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":120,"s":[400]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":180,"s":[0]},{"t":240,"s":[0]}],"ix":1}},{"ty":7,"nm":"Blur Dimensions","mn":"ADBE Gaussian Blur 2-0002","ix":2,"v":{"a":0,"k":1,"ix":2}},{"ty":7,"nm":"Repeat Edge Pixels","mn":"ADBE Gaussian Blur 2-0003","ix":3,"v":{"a":0,"k":0,"ix":3}}]}],"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[439.649,140],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":69,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"gf","o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[75]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":60,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":120,"s":[75]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":180,"s":[100]},{"t":240,"s":[100]}],"ix":10},"r":1,"bm":0,"g":{"p":2,"k":{"a":0,"k":[0,0.8549019607843137,0.2901960784313726,0.2549019607843137,1,0.3176470588235294,0.25882352941176473,0.058823529411764705],"ix":9}},"s":{"a":0,"k":[-219.825,70],"ix":5},"e":{"a":0,"k":[193.615,-54.027],"ix":6},"t":1,"nm":"Gradient Fil","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[600,600],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0}],"markers":[{"tm":300,"cm":"1","dr":0}]}')},function(e,t,a){e.exports={card:"Card_card__1m44e"}},function(e,t,a){e.exports={button:"Button_button__6-R6B"}},function(e,t,a){e.exports={input:"Input_input__2swPp"}},,,,,function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var n=a(6),c=a.n(n),s=(a(21),a(1)),r=a.n(s),i=(a(8),a.p,a(4),a(0));var o=r.a.createContext({item:[],totalAmount:0,removeItem(e){},addItem(e){}});var l=a(11),m=a.n(l);var d=()=>Object(i.jsxs)("section",{className:m.a.summary,children:[Object(i.jsx)("h2",{children:"Delicious Food, Delivered To You"}),Object(i.jsx)("p",{children:"Choose your favorite meal from our broad selection of available meals and enjoy a delicious lunch or dinner at home."}),Object(i.jsx)("p",{children:"All our meals are cooked with high-quality ingredients, just-in-time and of course by experienced chefs!"})]}),u=a(12),j=a(13),b=a(5),x=a.n(b),p=a(14),h=a.n(p);var _=e=>Object(i.jsx)("div",{className:h.a.card,children:e.children});var O=e=>Object(i.jsx)("span",{className:e.className,children:Object(i.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(i.jsx)("path",{d:"M10 0C15.5228 0 20 4.47715 20 10C20 15.5228 15.5228 20 10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0ZM10 1.5C5.30558 1.5 1.5 5.30558 1.5 10C1.5 14.6944 5.30558 18.5 10 18.5C14.6944 18.5 18.5 14.6944 18.5 10C18.5 5.30558 14.6944 1.5 10 1.5ZM10 5C10.4142 5 10.75 5.33579 10.75 5.75V9.25H14.25C14.6642 9.25 15 9.5858 15 10C15 10.4142 14.6642 10.75 14.25 10.75H10.75V14.25C10.75 14.6642 10.4142 15 10 15C9.5858 15 9.25 14.6642 9.25 14.25V10.75H5.75C5.33579 10.75 5 10.4142 5 10C5 9.5858 5.33579 9.25 5.75 9.25H9.25V5.75C9.25 5.33579 9.5858 5 10 5Z",fill:"white"})})}),f=a(15),C=a.n(f);var v=e=>Object(i.jsx)("button",{type:e.type,onClick:e.onClick,className:"".concat(e.className," ").concat(C.a.button),children:e.children}),y=a(16),k=a.n(y);var N=Object(s.forwardRef)(((e,t)=>Object(i.jsxs)("div",{className:"".concat(e.className," ").concat(k.a.input),children:[Object(i.jsx)("input",{ref:t,...e.input}),Object(i.jsx)("label",{htmlFor:e.input.id,children:e.label})]}))),g=a(9),A=a.n(g);var w=e=>{const t=Object(s.useRef)(),[a]=Object(s.useState)(!1),n={id:"amount_"+e.id,type:"number",min:"1",max:"5",step:"1",defaultValue:"1",key:Math.random().toFixed(2)};return Object(i.jsxs)("form",{onSubmit:a=>{a.preventDefault();const n=t.current.value;0===n.trim().length||+n<1||+n>5||e.onAddToCart(+n)},children:[Object(i.jsx)(N,{ref:t,label:"Amount",input:n}),Object(i.jsxs)(v,{className:A.a.button,children:[Object(i.jsx)(O,{className:A.a.buttonIcon}),"Add"]}),a&&Object(i.jsx)("p",{children:"Please enter number between 1 to 5"})]})};var S=e=>{const t={animationData:j,loop:!1,autoplay:!0},{View:a}=Object(u.useLottie)(t),n=Object(s.useContext)(o),[c,l]=Object(s.useState)([]),[m,d]=Object(s.useState)(!1),[b,p]=Object(s.useState)(null);if(Object(s.useEffect)((()=>{d(!0),p(null);(async()=>{try{const e=await fetch("https://food-app-5f4d3-default-rtdb.firebaseio.com/meals.json");if(console.log(e),!e.ok)throw new Error("Cannot read the data");const t=await e.json(),a=[];console.log(a);for(const n in t)a.push({id:n,name:t[n].name,description:t[n].description,price:t[n].price});l(a),d(!1)}catch(e){throw d(!1),new Error(e)}})().catch((e=>{p(e.message),d(!1)}))}),[]),console.log(c),m)return Object(i.jsx)("p",{className:x.a.mealLoading,children:"Loading..."});if(!m&&b)return Object(i.jsx)("section",{children:Object(i.jsx)("p",{className:x.a.error,children:b})});const h=c.map((e=>Object(i.jsxs)("div",{className:x.a.wrapper,children:[Object(i.jsxs)("li",{id:e.id,children:[Object(i.jsx)("h3",{children:e.name}),Object(i.jsx)("p",{children:e.description}),Object(i.jsxs)("span",{children:["$",e.price]})]},e.id),Object(i.jsx)(w,{onAddToCart:t=>{console.log(t),n.addItem({id:e.id,key:e.id,name:e.name,price:e.price,amount:t})},className:x.a.mealForm})]},e.id)));return Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)("section",{className:x.a.meals,children:Object(i.jsx)(_,{children:Object(i.jsx)("ul",{children:h})})}),Object(i.jsx)("div",{children:a})]})};var B=()=>Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(d,{}),Object(i.jsx)(S,{})]}),M=a(3),F=a.n(M),I=a(10),D=a.n(I);const E=e=>Object(i.jsx)("div",{onClick:e.onClick,className:D.a.backdrop}),R=e=>Object(i.jsx)("div",{onClick:e.onCloseCart,className:D.a.modal,children:e.children});var G=e=>{const t=document.querySelector("#Modal");return Object(i.jsxs)(r.a.Fragment,{children:[c.a.createPortal(Object(i.jsx)(E,{onClick:e.onCloseCart}),t),";",c.a.createPortal(Object(i.jsx)(R,{children:e.children}),t)]})},V=a(2),P=a.n(V);const H=e=>""===e.trim();var L=e=>{const[t,a]=Object(s.useState)({name:!0,postal:!0,street:!0,city:!0}),n=Object(s.useRef)(),c=Object(s.useRef)(),r=Object(s.useRef)(),o=Object(s.useRef)();return Object(i.jsxs)("form",{className:P.a.form,onSubmit:s=>{s.preventDefault();const i=n.current.value,l=c.current.value,m=r.current.value,d=o.current.value,u=!H(i),j=5===l.trim().length;const b=!H(m),x=!H(d);a({name:u,postal:j,street:b,city:x});const p=u&&j&&b&&x;console.log(u,j,b,x),console.log(t),p&&t&&(e.onSubmit({name:i,postal:l,street:m,city:d}),n.current.value="",c.current.value="",r.current.value="",o.current.value="")},children:[Object(i.jsxs)("div",{className:"".concat(P.a.control," ").concat(!t.name&&P.a.invalid),children:[Object(i.jsx)("label",{htmlFor:"name",children:"Name"}),Object(i.jsx)("input",{id:"name",type:"text",ref:n}),!t.name&&Object(i.jsx)("p",{className:P.a.error,children:"Name Value invalid!!"})]}),Object(i.jsxs)("div",{className:"".concat(P.a.control," ").concat(!t.postal&&P.a.invalid),children:[Object(i.jsx)("label",{htmlFor:"postal",children:"Postal Code"}),Object(i.jsx)("input",{id:"postal",type:"text",ref:c}),!t.postal&&Object(i.jsx)("p",{className:P.a.error,children:"Postal Value must greater than 5!!"})]}),Object(i.jsxs)("div",{className:"".concat(P.a.control," ").concat(!t.street&&P.a.invalid),children:[Object(i.jsx)("label",{htmlFor:"street",children:"Street"}),Object(i.jsx)("input",{id:"street",type:"text",ref:r}),!t.street&&Object(i.jsx)("p",{className:P.a.error,children:"Street Value invalid!!"})]}),Object(i.jsxs)("div",{className:"".concat(P.a.control," ").concat(!t.city&&P.a.invalid),children:[Object(i.jsx)("label",{htmlFor:"city",children:"City"}),Object(i.jsx)("input",{id:"city",type:"text",ref:o}),!t.city&&Object(i.jsx)("p",{className:P.a.error,children:"City Value invalid!!"})]}),Object(i.jsxs)("div",{className:P.a.actions,children:[Object(i.jsx)(v,{type:"button",className:P.a.cancel,onClick:e.onCancel,children:"Cancel"}),Object(i.jsx)(v,{type:"submit",className:P.a.confirm,children:"Confirm"})]})]})};var T=e=>{const t=Object(s.useContext)(o),[a,n]=Object(s.useState)(!1),[c,l]=Object(s.useState)(!1),[m,d]=Object(s.useState)(!1),[u,j]=Object(s.useState)(null),b="$".concat(t.totalAmount.toFixed(2)),x=t.item.length>0,p=e=>{t.removeItem(e)},h=e=>{t.addItem({...e,amount:1})},_=t.item.map((e=>Object(i.jsxs)("li",{className:F.a["cart-item"],id:e.id,name:e.name,amount:e.amount,price:e.price,children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:e.name}),Object(i.jsxs)("div",{className:F.a.summary,children:[Object(i.jsxs)("span",{className:F.a.price,children:["\ud83d\udcb2",e.price]}),Object(i.jsxs)("span",{className:F.a.amount,children:["\u2179 ",e.amount]})]})]}),Object(i.jsxs)("div",{className:F.a.btnGroup,children:[Object(i.jsx)(v,{className:F.a.btnRemove,onClick:p.bind(t,e.id),children:"\u23bb"}),Object(i.jsx)(v,{className:F.a.btnAdd,onClick:h.bind(t,e),children:"+"})]})]},e.id))),O=Object(i.jsxs)("div",{className:F.a.actions,children:[Object(i.jsx)(v,{onClick:e.onCloseCart,className:F.a["button--alt"],children:"Close"}),x&&Object(i.jsx)(v,{onClick:()=>{n(!0)},className:F.a.button,children:"Order"})]}),f=Object(i.jsx)("p",{children:"You are successfully submit the content\ud83d\ude00"}),C=Object(i.jsx)("p",{children:"Sending order data..."}),y=Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)("ul",{className:F.a["cart-items"],children:_}),Object(i.jsxs)("div",{className:F.a.total,children:[Object(i.jsx)("span",{children:"Total Amount"}),Object(i.jsx)("span",{children:b})]}),a?Object(i.jsx)(L,{onSubmit:async e=>{try{l(!0);if(!(await fetch("https://food-app-5f4d3-default-rtdb.firebaseio.com/order.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e,orderItem:t.item})})).ok)throw new Error("Fail to submit");l(!1),d(!0),t.submitItem()}catch(a){j(a.message)}},onCancel:e.onCloseCart}):O]});return Object(i.jsxs)(G,{onCloseCart:e.onCloseCart,className:e.className,children:[!c&&!m&&y,c&&C,!c&&m&&f]})};const Z={item:[],totalAmount:0},X=(e,t)=>{if("ADD"===t.type){const a=e.totalAmount+t.item.price*t.item.amount,n=e.item.findIndex((e=>e.id===t.item.id)),c=e.item[n];let s;if(c){const a={...c,amount:c.amount+t.item.amount};s=[...e.item],s[n]=a}else s=e.item.concat(t.item);return{item:s,totalAmount:a}}if("REMOVE"===t.type){const a=e.item.findIndex((e=>e.id===t.id)),n=e.item[a],c=e.totalAmount-n.price;let s;if(1===n.amount)s=e.item.filter((e=>e.id!==t.id));else{const t={...n,amount:n.amount-1};s=[...e.item],s[a]=t}return{item:s,totalAmount:c}}return t.type,Z};var J=e=>{const[t,a]=Object(s.useReducer)(X,Z),n={item:t.item,totalAmount:t.totalAmount,addItem:e=>{a({type:"ADD",item:e})},removeItem:e=>{a({type:"REMOVE",id:e})},submitItem:e=>{a({type:"SUBMIT"})}};return Object(i.jsx)(o.Provider,{value:n,children:e.children})};var Q=function(){const[e,t]=Object(s.useState)(!1);return Object(i.jsxs)(J,{children:[e&&Object(i.jsx)(T,{onCloseCart:()=>{t(!1)}}),Object(i.jsx)("main",{children:Object(i.jsx)(B,{})})]})};c.a.render(Object(i.jsx)(Q,{}),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.2bea82b3.chunk.js.map